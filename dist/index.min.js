import e,{useState as t,useEffect as n,useRef as l,useMemo as a,forwardRef as r,Fragment as c,useImperativeHandle as s,Children as i}from"react";import{randomId as o,createBus as d,useBus as h}from"@poon/router/util.js";import{navigation as m}from"@poon/router";const u=.25,p={capture:!1,passive:!1},v=(e=0,t,n)=>{const l=Math.min(n,50)/50;return e*(1-l)+t*l},g=e=>{const[l,a]=t({width:e.current?.clientWidth,height:e.current?.clientHeight});return n((()=>{if(!e.current)return;const t=new ResizeObserver((e=>{const t=e[0].borderBoxSize[0];a({height:t.blockSize,width:t.inlineSize})}));return t.observe(e.current),()=>t.disconnect()}),[e.current]),l};let E;const f=(e,t={},r)=>{const{width:c,height:s}=g(e),i=l({id:o()}).current,d=a((()=>{if(!e.current)return{};const n=()=>{const e=Date.now(),t=e-i.last.ts;if(t>0){const n=(i.x-i.last.x)/t,l=(i.y-i.last.y)/t;i.v={x:v(i.v.x,n,t),y:v(i.v.y,l,t)},i.last={x:i.x,y:i.y,ts:e}}};return{onTouchStart:e=>{if(E=null,e.touches.length>1){const t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY;return void(i.pinch={d0:Math.sqrt(Math.pow(t,2)+Math.pow(n,2))})}const n=e.touches?e.touches[0].clientX:e.clientX,l=e.touches?e.touches[0].clientY:e.clientY;Object.assign(i,{width:c,height:s,current:{x:n,y:l},touch:!0,origin:{x:n,y:l},locked:!1,v:{x:0,y:0},s:{x:0,y:0},d:{x:0,y:0},flick:null,last:{ts:Date.now(),x:n,y:l}}),t.onDown&&t.onDown(i)},onTouchMove:l=>{if(E&&E!==e.current)E.className.includes("scroller")||l.preventDefault();else{if(i.pinch)if(2===l.touches.length){const e=l.touches[0].clientX-l.touches[1].clientX,t=l.touches[0].clientY-l.touches[1].clientY;i.pinch.d=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),i.pinch.ratio=i.pinch.d/i.pinch.d0}else delete i.pinch;if(i.x=l.touches?l.touches[0].clientX:l.clientX,i.y=l.touches?l.touches[0].clientY:l.clientY,n(),i.d={x:i.x-i.origin.x,y:i.y-i.origin.y},i.abs={x:Math.abs(i.d.x),y:Math.abs(i.d.y)},!i.locked&&(i.abs.y>10||i.abs.x>10)&&(i.locked=i.abs.y>i.abs.x?"v":"h"),!i.locked)return l.preventDefault();i.touch=(e=>!t.onCapture||t.onCapture(i,e))(l),i.touch&&(E=e.current,i.locked&&t.onMove&&t.onMove(i,l))}},onTouchEnd:()=>{E&&E!==e.current||i.touch&&i.locked&&(n(),i.s={x:Math.abs(i.v.x),y:Math.abs(i.v.y)},i.flick={x:"h"===i.locked&&i.s.x>=u&&Math.sign(i.v.x),y:"v"===i.locked&&i.s.y>=u&&Math.sign(i.v.y)},t.onUp&&t.onUp(i))}}}),[e,s,c,r]);return n((()=>{if(e.current)return e.current.addEventListener("touchstart",d.onTouchStart,p),e.current.addEventListener("touchmove",d.onTouchMove,p),e.current.addEventListener("touchend",d.onTouchEnd,p),()=>{e.current&&(e.current.removeEventListener("touchstart",d.onTouchStart),e.current.removeEventListener("touchmove",d.onTouchMove),e.current.removeEventListener("touchend",d.onTouchEnd))}}),[d,r]),{height:s,width:c}},b=(...e)=>e.filter(Boolean).join(" "),y=r((({className:t,visible:a,pan:r,children:c,onClose:s,onPress:i,showShade:o,handle:d},h)=>{const m=l(),u=l(),{height:p}=f(u,{onMove:e=>{r.setValue(e.height-Math.max(e.d.y/100,e.d.y))},onUp:e=>{1===e.flick.y||e.d.y>e.height/2?v():r.spring(e.height)}}),v=()=>r.spring(0).then(s);return n((()=>{if(p)return r.on((e=>{u.current.style.transform=`translateY(-${e}px)`,m.current&&(m.current.style.opacity=e/p)}))}),[p]),n((()=>{p&&(a?r.spring(p):r.spring(0).then(s))}),[a,p,s]),e.createElement("div",{className:"layer"},a&&o?e.createElement("div",{className:"shade shade-bottom-sheet",ref:m,onClick:v}):null,e.createElement("div",{ref:u,className:b("sheet",t),onClick:i},d?e.createElement("div",{className:"handle"}):null,c))})),k=/iPad|iPhone|iPod/.test(navigator.platform),N={"os:back":k?"arrow_back_ios":"arrow_back","os:share":k?"ios_share":"share","os:close":k?"keyboard_arrow_down":"close"},w=({icon:t,className:n,color:l,title:a,size:r,onClick:c})=>e.createElement("i",{className:b("material-icons",n),style:{color:l,fontSize:r},title:a,onClick:c,children:N[t]||t}),C=()=>e.createElement("div",{className:"spinner"}),x=({href:n,onClick:a,className:r,target:c,children:s,disableMenu:i})=>{const[o,d]=t(!1),h=l(!1),m=e=>{e.button&&0!==e.button||(e.stopPropagation(),h.current=!1,d(!0))},u=()=>{d(!1)};return e.createElement(n?"a":"button",{href:n,onTouchStart:m,onTouchMove:u,onTouchEnd:u,onMouseDown:m,onMouseUp:u,onMouseLeave:u,onClick:e=>{if(h.current)return e.preventDefault();a&&(n||(e.preventDefault(),e.stopPropagation()),a(e))},className:b("touchable",r,o&&"active",i&&"disable-menu"),target:c,draggable:!1,onContextMenu:i?e=>(e.preventDefault(),!1):void 0},s)},M=({className:t,title:n,onClick:l,onDown:a,icon:r,href:s,tabIndex:i,color:o,textColor:d,disabled:h,width:m,download:u,iconImageUrl:p,loading:v,submit:g,pop:E})=>{const f=["btn"];t&&f.push(t),h&&f.push("disabled");const b={background:o,width:m,color:d},y=()=>v?e.createElement(C,null):e.createElement(c,null,p?e.createElement("img",{src:p,alt:n}):null,r?e.createElement(w,{icon:r}):null,n?e.createElement("span",null,n):null);return s?e.createElement("a",{onClick:e=>{u&&e.stopPropagation()},href:s,target:s&&E?"_blank":null,className:f.join(" "),tabIndex:i,style:b,children:y()}):e.createElement(x,{type:g?"submit":"button",className:f.join(" "),onClick:l,onTouchStart:a,tabIndex:i,style:b,children:y()})},P=(e,t,n)=>Math.min(Math.max(e,t),n),S=(e,t,n)=>e>n?n+(n+e)/50:e<t?t-(t-e)/50:e,T=e=>--e*e*e+1;class D{constructor(e){this.listeners=[],this.value=e,this.checkpoint=e}setValue=(e,t=!0)=>{t&&delete this.id,this.value=e,this.listeners.forEach((t=>t(e)))};spring=(e,t=300)=>new Promise((n=>{if(e===this.value)return;const l=this.id=performance.now(),a=this.value,r=c=>{if(l!==this.id)return;const s=Math.max(0,c-l);if(s>=t)this.setValue(e),n();else{const n=(e-a)*T(s/t);this.setValue(a+n,!1),requestAnimationFrame(r)}};r(l)}));on=e=>(this.listeners.push(e),()=>this.listeners=this.listeners.filter((t=>t!==e)));saveCheckpoint=()=>{this.checkpoint=this.value}}const L=e=>a((()=>new D(e)),[]),V=r((({pull:t},n)=>e.createElement("div",{className:"pull-indicator center",ref:n},e.createElement(w,{icon:"refresh",color:"#000"})))),z=r((({children:t,className:a,onRefresh:r,horizontal:s},i)=>{const o=i||l(),d=l(),h=l({}).current,m=L(0);f(o,{onDown:()=>{h.canScrollVertical=o.current.scrollHeight>o.current.clientHeight,h.canScrollHorizontal=o.current.scrollWidth>o.current.clientWidth,h.initScrollTop=o.current.scrollTop,h.initScrollLeft=o.current.scrollLeft},onCapture:e=>"v"===e.locked?!!(r&&0===o.current.scrollTop&&e.d.y>0)||!!h.canScrollVertical&&(0===h.initScrollTop&&e.d.y<0||h.initScrollTop>0):"h"===e.locked?!!h.canScrollHorizontal&&h.initScrollLeft>0:void 0,onMove:e=>{r&&0===h.initScrollTop&&m.setValue(Math.min(70,e.d.y))},onUp:e=>{r&&0===h.initScrollTop&&(e.d.y>70?m.spring(0).then(r):m.spring(0))}}),n((()=>{if(r)return m.on((e=>{const t=e/70;d.current.style.transform=`translateY(${e}px) rotate(${360*t}deg)`,d.current.style.opacity=t}))}),[]);return e.createElement(c,null,r?e.createElement("div",{className:"list-pull"},e.createElement(V,{pull:m,ref:d})):null,e.createElement("div",{className:b("scroller",a,s?"horizontal":"vertical"),ref:o,onScroll:()=>{navigator.virtualKeyboard?.hide(),document.activeElement.blur()},children:t}))})),Y=d([]),X=(e,t)=>{Y.update(Y.state.map((t=>(t.callback===e&&(t.visible=!1),t)))),setTimeout((()=>{Y.update(Y.state.filter((t=>t.callback!==e))),e(t)}),200)},_=({key:t,title:n,message:l,options:a,visible:r,callback:c})=>e.createElement("div",{key:t,className:"alert-container"},e.createElement("div",{key:t,className:b("alert",r&&"visible"),onClick:e=>e.stopPropagation()},e.createElement("div",{className:"alert-top"},e.createElement("div",{className:"alert-title"},n),e.createElement("div",{className:"alert-message"},l)),a.length?e.createElement(z,{className:b("alert-buttons",a.length<=2&&"alert-buttons-horizontal"),children:a.map(((t,n)=>e.createElement(x,{key:n,className:b("alert-button",t.destructive&&"destructive"),onClick:()=>{t.onPress&&t.onPress(),X(c,t._id||t.value)},children:t.name,disableMenu:!0})))}):null)),I=()=>{const t=h(Y),n=t.some((e=>e.visible));return 0===t.length?null:e.createElement("div",{className:b("layer alert-backdrop",n&&"visible"),onClick:()=>{const e=Y.state.filter((e=>e.visible)).pop();X(e.callback)},children:t.map(_)})},R=(e,t,n=[{name:"Close"}])=>new Promise((l=>{Y.update([...Y.state,{key:o(),title:e,message:t,options:n,callback:l,visible:!0}])})),U=({title:t,meta:n,leftIcon:l,href:a,onClick:r,onPressMore:c,target:s,children:i,caret:o,disabled:d,RightComponent:h})=>e.createElement(x,{className:b("touchable-row",d&&"disabled"),onClick:r,href:a,target:s},e.createElement("div",{className:"touchable-row-left"},"string"==typeof l?e.createElement("div",{className:"touchable-row-icon"},e.createElement(w,{icon:l})):null,"object"==typeof l?e.createElement("div",{className:"touchable-row-icon"},l):null,e.createElement("div",{className:"touchable-row-content"},t?e.createElement("div",{className:"touchable-row-title",children:t}):null,n?e.createElement("div",{className:"meta",children:n}):null,i)),h,c?e.createElement(x,{onClick:c},e.createElement(w,{icon:"more_vert"})):null,o?e.createElement(w,{icon:"chevron_right"}):null),$=d(null),j=new D(0),B=()=>{const t=h($);return t?e.createElement(y,{pan:j,visible:!!t,onClose:()=>$.update(null),showShade:!0},e.createElement("div",{className:"action-sheet-title"},t&&t.title),e.createElement("hr",null),t.options.map(((n,l)=>e.createElement(U,{key:l,title:n.name,leftIcon:n.icon,onClick:e=>{n.onClick&&n.onClick(),t.callback&&t.callback(n.value),j.spring(0).then((()=>$.update(0)))},disabled:n.disabled,target:n.target,href:n.href})))):null},H=(e,t,n)=>$.update({title:e,options:t,callback:n}),W=({path:t,onClickPath:n})=>{const l=t.split("/").filter(Boolean);return 0===l.length?null:e.createElement(z,{horizontal:!0,className:"breadcrumbs"},e.createElement(w,{icon:"home",onClick:()=>n("/")}),e.createElement("span",null," / "),l.map(((t,a)=>e.createElement(c,{key:t+"_"+a},e.createElement(x,{onClick:()=>n(),children:t}),a<l.length-1?e.createElement("span",null," / "):null))))},O={card:"os:back",modal:"os:close"},q=({title:t,subtitle:n,presentation:l,onClose:a,headerRight:r,SearchComponent:s})=>{const i=O[l];return e.createElement(c,null,e.createElement("div",{className:"header"},e.createElement("div",{className:"header-spacer"},i&&e.createElement(x,{className:"header-close",onClick:e=>{e.stopPropagation(),e.preventDefault(),a()},children:e.createElement(w,{icon:i})})),e.createElement("div",{className:"header-middle"},e.createElement("div",{className:"header-title"},t),n?e.createElement("div",{className:"header-subtitle"},n):null),e.createElement("div",{className:"header-spacer"},r)),s)},A=({className:t,icon:n,title:l,message:a,children:r})=>e.createElement("div",{className:b("placeholder",t)},n?e.createElement(w,{icon:n}):null,l?e.createElement("div",{className:"title"},l):null,a?e.createElement("div",{className:"placeholder-message"},a):null,r),K=r((({},t)=>{const n=l();return s(t,(()=>({progress:(e,t)=>{n.current&&(n.current.style.opacity=1-e/t)}}))),e.createElement("div",{className:"shade shade-card",ref:n})})),F=({title:a,subtitle:r,children:c,footer:s,headerRight:i,hasScrollView:o=!0,SearchComponent:d,scrollerRef:h,disableGestures:u,onDrop:p,isVisible:v=!0,showHeader:g=!0,animateIn:E=!0,ShadeComponent:b=K})=>{const y=l(history.length>1).current,[k,N]=t(!1),w=l(),C=l(),x=L(document.body.clientWidth),M=()=>x.spring(P).then((()=>{y&&m.goBack()})),{width:P}=f(C,{onCapture:e=>{if(!u)return"h"===e.locked&&e.d.x>0},onMove:e=>{x.setValue(Math.max(0,e.d.x))},onUp:e=>{1===e.flick.x||e.d.x>e.width/2?M():x.spring(0)}});n((()=>{P&&(v?x.spring(0):x.spring(P))}),[v,P]),n((()=>x.on((e=>{C.current&&(C.current.style.transform=`translateX(${e}px)`),w.current&&w.current.progress(e,P)}))),[P]);return e.createElement("div",{className:"layer"},e.createElement(b,{ref:w}),e.createElement("div",{className:"card",ref:C,onDragOver:p&&(e=>{e.preventDefault()}),onDragEnter:p&&(e=>{N(!0)}),onDragLeave:p&&(e=>{N(!1)}),onDrop:p&&(e=>{N(!1),p(e)})},e.createElement(q,{title:a,subtitle:r,presentation:"card",SearchComponent:d,onClose:M,headerRight:i}),o?e.createElement(z,{className:"card-body",ref:h,children:c}):e.createElement("div",{className:"card-body",children:c}),s,k?e.createElement(A,{className:"drop-zone",icon:"upload",title:"Upload"}):null))};F.defaultProps={};const G=({position:l,button:a,content:r})=>{const[c,s]=t(!1);return n((()=>{if(!c)return;const e=e=>{e.composedPath().some((e=>e.classList&&e.classList.contains("dropdown-content")))||s(!1)};return setTimeout((()=>{window.addEventListener("click",e,{passive:!1})}),0),()=>window.removeEventListener("click",e)}),[c]),e.createElement("div",null,e.createElement("span",{className:"dropdown"},e.createElement("div",{children:a,className:"dropdown-button",onClick:()=>s(!0)}),e.createElement("div",{className:b("dropdown-content",l||"top-right",c?"visible":"hidden"),children:r})))},J=({status:t})=>"connected"===t?null:e.createElement("div",{className:"connection-indicator"},e.createElement("div",{className:"bubble"},e.createElement(C,null),t)),Q=({title:t,children:n,isVisible:l,onClose:a})=>l?e.createElement("div",{className:"corner-dialog"},e.createElement("div",{className:"corner-dialog-title"},t,e.createElement(w,{icon:"close",onClick:a})),n):null,Z=({title:t,icon:n,onClick:l,href:a,disabled:r,children:c,active:s})=>e.createElement(U,{className:"dropdown-item",onClick:l,disabled:r,active:s,children:c,href:a,leftIcon:n,title:t}),ee=({title:t,icon:n,href:l})=>e.createElement(x,{href:l,className:"springboard-icon"},e.createElement("div",{className:"icon-frame"},e.createElement(w,{icon:n})),e.createElement("div",null,t)),te=({title:t,children:a,footer:r,headerRight:c,SearchComponent:s})=>{const i=l(),o=L(0);return n((()=>(o.spring(1),o.on((e=>{i.current.style.opacity=e})))),[]),e.createElement("div",{className:"fullscreen",ref:i},e.createElement(q,{title:t,presentation:"full",onClose:()=>{o.spring(0).then((()=>m.goBack()))},headerRight:c,SearchComponent:s}),e.createElement(z,{className:"card-body"},a),r)},ne=({icon:t,title:n,badge:l,loading:a,disabled:r,onClick:c,active:s,href:i})=>e.createElement(x,{className:b("header-button center","Cancel"===n&&"header-cancel"),onClick:c,loading:a,disabled:r,active:s,href:i},t?e.createElement(w,{icon:t}):null,n?e.createElement("span",null,n):null,l?e.createElement("span",{className:"badge"},l):null),le=({title:t,items:n=[],keyExtractor:l=(e=>e._id),renderItem:a,loading:r,className:s,ListEmptyComponent:o,children:d})=>e.createElement("div",{className:b("list",s)},t?e.createElement(c,null,e.createElement("div",{className:"list-title"},t),e.createElement("hr",null)):null,n.length||d?e.createElement("div",{className:"list-body"},r||!n?null:o&&0===n.length?o:n.map(((t,r)=>e.createElement(c,{key:l(t)},a(t,r),r<n.length-1&&e.createElement("hr",null)))),i.map(d,((t,n)=>e.createElement(c,{key:n},t,n<d.length-1&&e.createElement("hr",null))))):o),ae=d([]),re=t=>e.createElement("div",{key:t.id,className:"absolute",children:t.children}),ce=()=>h(ae).map(re),se=e=>ae.update([...ae.state,{id:Math.random(),children:e}]),ie=()=>{ae.update([])},oe=({ar:t,url:n,alt:l,className:a,children:r,base64Png:c})=>e.createElement("div",{className:b("img",a)},e.createElement("div",{style:{paddingTop:100*(t||1)+"%"}}),n?e.createElement("img",{src:n,className:"img-real",alt:l,draggable:!1}):c?e.createElement("img",{src:`data:image/png;base64,${c}`}):e.createElement("div",{className:"img-real",alt:l,draggable:!1}),r?e.createElement("div",{className:"img-inside"},r):null),de=({percent:t})=>e.createElement("div",{className:"percent-bar"},e.createElement("div",{className:"percent-bar-inner",style:{width:100*t+"%"}})),he=d(),me=()=>{const t=h(he);return n((()=>{if(!t)return;const e=setTimeout((()=>he.update(null)),2e3);return()=>clearTimeout(e)}),[t]),t?e.createElement("div",{className:"toast-container"},e.createElement("div",{className:"toast",children:t})):null},ue=he.update,pe=()=>e.createElement(c,null,e.createElement(ce,null),e.createElement(B,null),e.createElement(I,null),e.createElement(me,null)),ve=({color:t="#fff",size:n=20,percent:l,spinning:a,completedIcon:r="check"})=>{if(a||!l)return e.createElement(C,null);if(1===l)return e.createElement(w,{icon:r});const c=n/2,s=c-1,i=2*s*Math.PI,o=i-l*i;return e.createElement("svg",{height:n,width:n},e.createElement("circle",{stroke:t,opacity:.3,fill:"transparent",strokeWidth:2,r:s,cx:c,cy:c}),e.createElement("circle",{strokeDasharray:i+" "+i,style:{strokeDashoffset:o,transform:"rotate(-90deg)",transformOrigin:"50% 50%"},stroke:t,fill:"transparent",strokeWidth:2,r:s,cx:c,cy:c}))},ge=({value:t,placeholder:n,onChange:l,loading:a})=>e.createElement("div",{className:"search"},e.createElement(w,{icon:"search"}),e.createElement("input",{placeholder:n,type:"search",value:t,onChange:e=>{e.stopPropagation(),l(e.target.value)}}),e.createElement(w,{icon:"close",onClick:()=>l(""),size:16}),a?e.createElement(C,null):null),Ee=({children:t})=>e.createElement("div",{className:"segmented",children:t}),fe=({options:t,value:n,onChangeValue:l})=>e.createElement("select",{onChange:e=>l(e.target.value),value:n},Object.keys(t).map((n=>e.createElement("option",{key:n,value:n,children:t[n]})))),be=({leftText:t,rightText:n})=>e.createElement("div",{className:"tabular-row"},e.createElement("div",{className:"tabular-row-left"},t),e.createElement("div",{className:"tabular-row-right"},n)),ye=({value:t,type:n,placeholder:l,onChange:a})=>e.createElement("input",{placeholder:l,className:"text",type:n,value:t,onChange:e=>{e.stopPropagation(),a(e.target.value)}}),ke=r((({children:t,title:a,search:r,onChangeSearch:c,searchLoading:i,hasScrollView:o=!0,headerRight:d,onClose:h,isVisible:u},p)=>{const v=l(),g=l(),E=L(0),b=()=>m.goBack(1);s(p,(()=>({close:b})));const{height:y}=f(g,{onMove:e=>{E.setValue(y-Math.max(0,e.d.y))},onUp:e=>{1===e.flick.y||e.d.y>e.height/2?b():E.spring(e.height)}});return n((()=>{y&&(u?E.spring(y):E.spring(0))}),[u,y]),n((()=>{const e=document.querySelectorAll(".card");return E.on((t=>{const n=t/y;g.current&&(g.current.style.transform=`translateY(-${t}px)`),v.current&&(v.current.style.display=t?"block":"none",v.current.style.opacity=t/y*.8),[...e].forEach((e=>{e.style.transform=`scale(${1-.04*n})`}))}))}),[y]),e.createElement("div",{className:"layer"},e.createElement("div",{className:"window",ref:g},e.createElement("div",{className:"window-content"},e.createElement(q,{title:a,presentation:"modal",onClose:b,SearchComponent:c?e.createElement("div",{className:"header-search"},e.createElement(ye,{placeholder:"Search",type:"search",value:r,onChange:c,loading:i})):null,headerRight:d}),o?e.createElement(z,{className:"card-body",children:t}):e.createElement("div",{className:"card-body",children:t}))))})),Ne=({title:t,i:a,pan:r,width:c,onPress:s})=>{const i=l();return n((()=>{if(!c)return;const e=a*c,t=c/3;return r.on((n=>{const l=Math.min(Math.abs(e-n),t);i.current.style.opacity=1.5-l/t}))}),[c]),e.createElement("div",{children:t,className:"pager-tabs-title",onClick:()=>s(a),ref:i})},we=r((({titles:t,children:a,vertical:r},c)=>{const i=L(0),o=l(),d=l(),h=l({}).current;s(c,(()=>({scrollToPage:e=>{r?i.spring(e*u):i.spring(e*m)}})));const{width:m,height:u}=f(d,{onCapture:e=>{if(r){if("v"===e.locked)return e.d.y<0||h.initPan-e.d.y>0}else if("h"===e.locked)return e.d.x<0||h.initPan-e.d.x>0},onDown:e=>{r?(h.currentPage=Math.round(i.value/e.height),h.initPan=i.value):(h.currentPage=Math.round(i.value/e.width),h.initPan=i.value)},onMove:e=>{if(r){const t=P(h.initPan-e.d.y,0,e.height*(a.length-1));i.setValue(t)}else{const t=P(h.initPan-e.d.x,0,e.width*(a.length-1));i.setValue(t)}},onUp:e=>{if(r)if(e.flick.y<0)i.spring(u*P(h.currentPage+1,0,a.length-1));else if(e.flick.y>0)i.spring(u*P(h.currentPage-1,0,a.length-1));else{const t=P(Math.round(i.value/e.height),0,a.length-1);i.spring(t*u)}else if(e.flick.x<0)i.spring(m*P(h.currentPage+1,0,a.length-1));else if(e.flick.x>0)i.spring(m*P(h.currentPage-1,0,a.length-1));else{const t=P(Math.round(i.value/e.width),0,a.length-1);i.spring(t*m)}}},[a]);n((()=>i.on((e=>{d.current.style.transform=`translate${r?"Y":"X"}(-${e}px)`,o.current&&(o.current.style.transform=`translateX(${e/a.length}px)`)}))),[m]);const p=e=>{i.spring(e*m)};return e.createElement("div",{className:b("pager",r?"vertical":"horizontal")},t?e.createElement("div",{className:"pager-tabs"},t.map(((t,n)=>e.createElement(Ne,{key:n,title:t,pan:i,i:n,width:m,onPress:p}))),m?e.createElement("div",{className:"pager-tabs-indicator",ref:o,style:{width:m/t.length}}):null):null,e.createElement("div",{className:"pager-scroller"},e.createElement("div",{className:"pager-canvas",ref:d,style:{transform:r?"translateX(0px)":"translateY(0px)"}},e.Children.map(a,((t,n)=>e.createElement("div",{key:n,className:"pager-page",children:t}))))))})),Ce=navigator.virtualKeyboard,xe=()=>n((()=>{if(Ce)return Ce.overlaysContent=!0,()=>Ce.overlaysContent=!1}),[]);export{B as ActionSheet,I as Alert,D as AnimatedValue,y as BottomSheet,W as BreadCrumbs,M as Button,F as Card,J as ConnectionIndicator,Q as CornerDialog,ee as DashboardIcon,G as Dropdown,Z as DropdownItem,u as FLICK_SPEED,te as FullScreen,ne as HeaderButton,w as Icon,oe as Image,le as List,ce as Modal,de as PercentBar,A as Placeholder,pe as PoonOverlays,ve as ProgressRing,V as PullIndicator,q as ScreenHeader,z as ScrollView,ge as SearchInput,Ee as SegmentedController,fe as Select,K as Shade,C as Spinner,be as TabularRow,ye as TextInput,me as Toast,x as Touchable,U as TouchableRow,we as ViewPager,ke as Window,S as bounce,b as c,P as clamp,T as easeOutCubic,ie as hideModal,ae as modalState,H as showActionSheet,R as showAlert,se as showModal,ue as toast,L as useAnimatedValue,f as usePanGestures,g as useSize,xe as useVirtualKeyboard};
