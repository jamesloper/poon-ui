import e,{useMemo as t,forwardRef as n,useState as l,useRef as a,useEffect as r,Fragment as c,useImperativeHandle as i,Children as s,memo as o,createElement as d}from"react";import{randomId as m,createBus as u,useBus as h}from"poon-router/util.js";import{navigation as p}from"poon-router";const v=new Array(12).fill(0),g=({size:t=16,color:n="#fff"})=>e.createElement("div",{className:"activity-indicator",style:{width:t,height:t},children:v.map(((l,a)=>{const r={width:1.7,borderRadius:1,left:t/2-1,height:t/4,animationDelay:(.1*a-1.1).toFixed(1)+"s",transform:`rotate(${30*a}deg)`,backgroundColor:n,transformOrigin:`50% ${t/2}px`};return e.createElement("div",{key:a,style:r})}))}),E=(e,t,n)=>Math.min(Math.max(e,t),n),f=(e,t,n)=>e>n?n+(n+e)/50:e<t?t-(t-e)/50:e,y=e=>--e*e*e+1;class b{constructor(e){this.listeners=[],this.value=e,this.oldValue=e}setValue=(e,t=!0)=>{t&&(delete this.id,this.oldValue=e),this.value=e,this.listeners.forEach((t=>t(e)))};spring=(e,t=b.defaultAnimationDuration)=>new Promise((n=>{if(e===this.value)return;const l=this.id=performance.now(),a=this.value,r=c=>{if(l!==this.id)return;const i=Math.max(0,c-l);if(i>=t)this.setValue(e,!0),n();else{const n=(e-a)*y(i/t);this.setValue(a+n,!1),requestAnimationFrame(r)}};r(l)}));on=e=>(this.listeners.push(e),()=>this.listeners=this.listeners.filter((t=>t!==e)));stop=()=>{delete this.id}}b.defaultAnimationDuration=300;const N=e=>t((()=>new b(e)),[]),k=(...e)=>e.filter(Boolean).join(" "),C=e=>100*e+"%",x=n((({href:t,onClick:n,className:r,active:c,target:i,children:s,style:o,disableMenu:d},m)=>{const[u,h]=l(!1),p=a(!1),v=e=>{e.button&&0!==e.button||(e.stopPropagation(),p.current=!1,h(!0))},g=()=>{h(!1)};return e.createElement(t?"a":"button",{href:t,onTouchStart:v,onTouchMove:g,onTouchEnd:g,onMouseDown:v,onMouseUp:g,onMouseLeave:g,onClick:e=>{if(p.current)return e.preventDefault();n&&(t||e.preventDefault(),n(e))},className:k("touchable",r,u&&"touched",d&&"disable-menu",c&&"active"),target:i,draggable:!1,onContextMenu:d?e=>(e.preventDefault(),!1):void 0,style:o,type:"button",ref:m},s)})),w=/iPad|iPhone|iPod/.test(navigator.platform),M={"os:back":w?"arrow_back_ios":"arrow_back","os:share":w?"ios_share":"share","os:close":w?"keyboard_arrow_down":"close"},P=({icon:t,className:n,color:l,title:a,size:r,onClick:c})=>e.createElement("i",{className:k("material-icons",n),style:{color:l,fontSize:r},title:a,onClick:c,children:M[t]||t}),S=({title:t,meta:n,leftIcon:l,href:a,onClick:r,onPressMore:c,target:i,children:s,caret:o,disabled:d,RightComponent:m,className:u,active:h})=>e.createElement(x,{className:k("touchable-highlight touchable-row",d&&"disabled",u),onClick:r,href:a,target:i,active:h},e.createElement("div",{className:"touchable-row-left"},"string"==typeof l?e.createElement("div",{className:"touchable-row-icon"},e.createElement(P,{icon:l})):null,"object"==typeof l?e.createElement("div",{className:"touchable-row-icon"},l):null,e.createElement("div",{className:"touchable-row-content"},t?e.createElement("div",{className:"touchable-row-title",children:t}):null,n?e.createElement("div",{className:"meta",children:n}):null,s)),m,c?e.createElement(x,{onClick:c},e.createElement(P,{icon:"more_vert"})):null,o?e.createElement(P,{icon:"chevron_right"}):null),T=.25,L={capture:!1,passive:!1},D=(e=0,t,n)=>{const l=Math.min(n,50)/50;return e*(1-l)+t*l},V=e=>{const[t,n]=l({width:e.current?.clientWidth,height:e.current?.clientHeight});return r((()=>{if(!e.current)return;const t=new ResizeObserver((e=>{const t=e[0].borderBoxSize[0];n({height:t.blockSize,width:t.inlineSize})}));return t.observe(e.current),()=>t.disconnect()}),[e.current]),t};let $;const z=(e,n={},l)=>{const{width:c,height:i}=V(e),s=a({id:m()}).current,o=t((()=>{if(!e.current)return{};const t=()=>{const e=Date.now(),t=e-s.last.ts;if(t>0){const n=(s.x-s.last.x)/t,l=(s.y-s.last.y)/t;s.v={x:D(s.v.x,n,t),y:D(s.v.y,l,t)},s.last={x:s.x,y:s.y,ts:e}}};return{onTouchStart:e=>{if($=null,e.touches.length>1){const t=e.touches[0].clientX-e.touches[1].clientX,n=e.touches[0].clientY-e.touches[1].clientY;return void(s.pinch={d0:Math.sqrt(Math.pow(t,2)+Math.pow(n,2))})}const t=e.touches?e.touches[0].clientX:e.clientX,l=e.touches?e.touches[0].clientY:e.clientY;Object.assign(s,{width:c,height:i,current:{x:t,y:l},touch:!0,origin:{x:t,y:l},locked:!1,v:{x:0,y:0},s:{x:0,y:0},d:{x:0,y:0},flick:null,last:{ts:Date.now(),x:t,y:l}}),n.onDown&&n.onDown(s)},onTouchMove:l=>{if($&&$!==e.current)$.className.includes("scroller")||l.preventDefault();else{if(s.pinch)if(2===l.touches.length){const e=l.touches[0].clientX-l.touches[1].clientX,t=l.touches[0].clientY-l.touches[1].clientY;s.pinch.d=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),s.pinch.ratio=s.pinch.d/s.pinch.d0}else delete s.pinch;if(s.x=l.touches?l.touches[0].clientX:l.clientX,s.y=l.touches?l.touches[0].clientY:l.clientY,t(),s.d={x:s.x-s.origin.x,y:s.y-s.origin.y},s.abs={x:Math.abs(s.d.x),y:Math.abs(s.d.y)},!s.locked&&(s.abs.y>10||s.abs.x>10)&&(s.locked=s.abs.y>s.abs.x?"v":"h"),s.locked){if(s.touch=(e=>!n.onCapture||n.onCapture(s,e))(l),!s.touch)return;$=e.current,n.onMove&&n.onMove(s,l)}}},onTouchEnd:()=>{$&&$!==e.current||s.touch&&s.locked&&(t(),s.s={x:Math.abs(s.v.x),y:Math.abs(s.v.y)},s.flick={x:"h"===s.locked&&s.s.x>=T&&Math.sign(s.v.x),y:"v"===s.locked&&s.s.y>=T&&Math.sign(s.v.y)},n.onUp&&n.onUp(s))},onWheel:t=>{e.current.scrollTop+=t.deltaY,n.onPan&&n.onPan({d:{x:t.deltaX,y:t.deltaY}})}}}),[e,i,c,l]);return r((()=>{if(e.current)return e.current.addEventListener("touchstart",o.onTouchStart,L),e.current.addEventListener("touchmove",o.onTouchMove,L),e.current.addEventListener("touchend",o.onTouchEnd,L),e.current.addEventListener("wheel",o.onWheel,L),()=>{e.current&&(e.current.removeEventListener("touchstart",o.onTouchStart),e.current.removeEventListener("touchmove",o.onTouchMove),e.current.removeEventListener("touchend",o.onTouchEnd),e.current.removeEventListener("wheel",o.onWheel))}}),[o,l]),{height:i,width:c}};document.addEventListener("touchstart",(function(e){e.pageX>10&&e.pageX<window.innerWidth-10||e.preventDefault()}));const R=n((({className:t,visible:n,pan:l,children:c,onClose:i,onPress:s,showShade:o,showHandle:d},m)=>{const u=a(),h=a(),{height:p}=z(h,{onMove:e=>{l.setValue(e.height-Math.max(e.d.y/100,e.d.y))},onUp:e=>{1===e.flick.y||e.d.y>e.height/2?v():l.spring(e.height)}}),v=()=>l.spring(0).then(i);return r((()=>{if(p)return l.on((e=>{h.current.style.transform=`translateY(-${e}px)`,u.current&&(u.current.style.opacity=e/p)}))}),[p]),r((()=>{p&&(n?l.spring(p):l.spring(0).then(i))}),[n,p,i]),e.createElement("div",{className:"layer"},n&&o?e.createElement("div",{className:"shade shade-bottom-sheet",ref:u,onClick:v}):null,e.createElement("div",{ref:h,className:k("sheet",t),onClick:s},d?e.createElement("div",{className:"handle"}):null,c))})),X=u(null),W=new b(0),Y=()=>{const t=h(X);return t?e.createElement(R,{pan:W,visible:!!t,onClose:()=>X.update(null),showShade:!0},e.createElement("div",{className:"action-sheet-title"},t&&t.title),e.createElement("hr",null),t.options.map(((n,l)=>e.createElement(S,{key:l,title:n.name,leftIcon:n.icon,onClick:e=>{n.onClick&&n.onClick(),t.callback&&t.callback(n.value),W.spring(0).then((()=>X.update(0)))},disabled:n.disabled,target:n.target,href:n.href})))):null},U=(e,t,n)=>X.update({title:e,options:t,callback:n}),_=n((({pull:t},n)=>e.createElement("div",{className:"pull-indicator center",ref:n},e.createElement(P,{icon:"refresh",color:"#000"})))),I=n((({children:t,className:n,onRefresh:l,horizontal:i},s)=>{const o=s||a(),d=a(),m=a({}).current,u=N(0),h=N(0),p=N(0);z(o,{onDown:()=>{m.canScrollVertical=o.current.scrollHeight>o.current.clientHeight,m.canScrollHorizontal=o.current.scrollWidth>o.current.clientWidth,m.initScrollTop=o.current.scrollTop,m.initScrollLeft=o.current.scrollLeft,h.stop(),p.stop()},onCapture:e=>"v"===e.locked?!!(l&&0===o.current.scrollTop&&e.d.y>0)||!!m.canScrollVertical&&(0===m.initScrollTop&&e.d.y<0||m.initScrollTop>0):"h"===e.locked?!!m.canScrollHorizontal:void 0,onMove:e=>{"v"===e.locked?h.setValue(m.initScrollTop-e.d.y):"h"===e.locked&&p.setValue(m.initScrollLeft-e.d.x),l&&0===m.initScrollTop&&u.setValue(Math.min(70,e.d.y))},onUp:e=>{"v"===e.locked?e.v.y&&h.spring(h.value-2e3*e.v.y,2e3):"h"===e.locked&&e.v.x&&p.spring(p.value-2e3*e.v.x,2e3),l&&0===m.initScrollTop&&(e.d.y>70?u.spring(0).then(l):u.spring(0))}}),r((()=>h.on((e=>{o.current.scrollTop=e}))),[]),r((()=>p.on((e=>o.current.scrollLeft=e))),[]),r((()=>{if(l)return u.on((e=>{const t=e/70;d.current.style.transform=`translateY(${e}px) rotate(${360*t}deg)`,d.current.style.opacity=t}))}),[]);return e.createElement(c,null,l?e.createElement("div",{className:"list-pull"},e.createElement(_,{pull:u,ref:d})):null,e.createElement("div",{className:k("scroller",n,i?"horizontal":"vertical"),ref:o,onScroll:()=>{navigator.virtualKeyboard?.hide(),document.activeElement.blur()},children:t}))})),j=({className:t,title:n,onClick:l,onDown:a,icon:r,href:i,tabIndex:s,color:o,disabled:d,download:m,iconImageUrl:u,loading:h,submit:p,fullWidth:v})=>{const E=k("btn",t,d&&"disabled",v&&"full-width",o&&`btn-${o}`);return e.createElement(x,{type:p?"submit":"button",className:E,onClick:e=>{m&&e.stopPropagation(),l&&l(e)},href:i,onTouchStart:a,tabIndex:s,children:h?e.createElement(g,null):e.createElement(c,null,u?e.createElement("img",{src:u,alt:n}):null,r?e.createElement(P,{icon:r}):null,n?e.createElement("span",null,n):null)})},A=u([]),B=(e,t)=>{A.update(A.state.map((t=>(t===e&&(t.visible=!1),t)))),setTimeout((()=>{e.callback(t),A.update(A.state.filter((t=>t!==e)))}),300)},H=({alert:t,isLast:n})=>e.createElement("div",{className:k("alert-container",n&&t.visible&&t.className)},e.createElement("div",{className:k("alert",n&&t.visible&&"visible"),onClick:e=>e.stopPropagation()},e.createElement("div",{className:"alert-top"},t.title?e.createElement("div",{className:"alert-title"},t.title):null,t.message?e.createElement("div",{className:"alert-message"},t.message):null),t.options?e.createElement(I,{className:k("alert-buttons",t.options.length<=2&&"alert-buttons-horizontal"),children:t.options.map(((n,l)=>e.createElement(x,{key:l,className:k("alert-button",n.destructive&&"destructive"),onClick:()=>{n.onPress&&n.onPress(),B(t,n._id||n.value)},children:n.name,disableMenu:!0})))}):e.createElement("div",{className:"alert-bottom"},e.createElement(j,{color:"white",fullWidth:!0,title:"Close",onClick:()=>B(t)})))),O=()=>{const t=h(A),n=t.filter((e=>e.visible)).pop();return 0===t.length?null:e.createElement("div",{className:k("layer alert-backdrop",t.some((e=>e.visible))&&"visible"),onClick:()=>B(n),children:t.map((t=>e.createElement(H,{key:t.key,alert:t,isLast:n===t})))})},F=(e,t)=>new Promise((n=>{A.update([...A.state,{key:m(),callback:n,visible:!0,options:t,...e}])})),q=({imageId:t,className:n,variant:l,getUrl:a})=>t?e.createElement("img",{draggable:!1,className:k("avatar",n),src:a(t,l)}):e.createElement("div",{draggable:!1,className:k("avatar",n)});q.defaultProps={variant:"normal",getUrl:()=>null};const K=({path:t,onClickPath:n})=>{const l=t.split("/").filter(Boolean);return 0===l.length?null:e.createElement(I,{horizontal:!0,className:"breadcrumbs"},e.createElement(P,{icon:"home",onClick:()=>n("/")}),e.createElement("span",null," / "),l.map(((t,a)=>e.createElement(c,{key:t+"_"+a},e.createElement(x,{onClick:()=>n(),children:t}),a<l.length-1?e.createElement("span",null," / "):null))))},G={card:"os:back",modal:"os:close"},J=({title:t,subtitle:n,presentation:l="card",onClose:a,headerRight:r,SearchComponent:i})=>{const s=G[l];return e.createElement(c,null,e.createElement("div",{className:"header"},e.createElement("div",{className:"header-spacer"},s&&e.createElement(x,{className:"header-close",onClick:e=>{e.stopPropagation(),e.preventDefault(),a()},children:e.createElement(P,{icon:s})})),e.createElement("div",{className:"header-middle"},e.createElement("div",{className:"header-title"},t),n?e.createElement("div",{className:"header-subtitle"},n):null),e.createElement("div",{className:"header-spacer"},r)),i)},Q=({className:t,icon:n,title:l,message:a,children:r})=>e.createElement("div",{className:k("placeholder",t)},n?e.createElement(P,{icon:n}):null,l?e.createElement("div",{className:"title"},l):null,a?e.createElement("div",{className:"placeholder-message"},a):null,r),Z=n((({},t)=>{const n=a();return i(t,(()=>({progress:(e,t)=>{n.current&&(n.current.style.opacity=1-e/t)}}))),e.createElement("div",{className:"shade shade-card",ref:n})})),ee=n((({title:t,subtitle:n,children:c,footer:i,headerRight:s,hasScrollView:o=!0,SearchComponent:d,scrollerRef:m,disableGestures:u,onDrop:h,isVisible:v=!0,animateIn:g=!0,ShadeComponent:E=Z,HeaderComponent:f,className:y},b)=>{b=b||a();const C=a(history.length>1).current,[x,w]=l(!1),M=a(),P=N(g?document.body.clientWidth:0),S=()=>P.spring(T).then((()=>{C&&p.goBack()})),{width:T}=z(b,{onCapture:e=>{if(C&&!u)return"h"===e.locked&&e.d.x>0},onMove:e=>{P.setValue(Math.max(0,e.d.x))},onUp:e=>{1===e.flick.x||e.d.x>e.width/2?S():P.spring(0)}});r((()=>{T&&g&&(v?P.spring(0):P.spring(T))}),[g,v,T]),r((()=>P.on((e=>{b.current&&(b.current.style.transform=`translateX(${e}px)`),M.current&&M.current.progress(e,T)}))),[T]);return e.createElement("div",{className:"layer"},E?e.createElement(E,{ref:M}):null,e.createElement("div",{className:k("card",g&&"animate",y),ref:b,onDragOver:h&&(e=>{e.preventDefault()}),onDragEnter:h&&(e=>{w(!0)}),onDragLeave:h&&(e=>{w(!1)}),onDrop:h&&(e=>{w(!1),h(e)})},null===f?null:f||e.createElement(J,{title:t,subtitle:n,presentation:"card",SearchComponent:d,onClose:S,headerRight:s}),o?e.createElement(I,{className:"card-body",ref:m,children:c}):e.createElement("div",{className:"card-body",children:c}),i,x?e.createElement(Q,{className:"drop-zone",icon:"upload",title:"Upload"}):null))})),te=({active:t,undetermined:n})=>e.createElement("div",{className:k("toggle-check",t&&"active",n&&"undetermined")},e.createElement(P,{icon:n?"horizontal_rule":t?"check":null})),ne=({active:t})=>e.createElement("div",{className:k("circle-check",t&&"active")},e.createElement(P,{icon:"check"})),le=({status:t})=>"connected"===t?null:e.createElement("div",{className:"connection-indicator"},e.createElement("div",{className:"bubble"},e.createElement(g,null),t)),ae=({title:t,children:n,isVisible:l,onClose:a})=>l?e.createElement("div",{className:"corner-dialog"},e.createElement("div",{className:"corner-dialog-title"},t,e.createElement(P,{icon:"close",onClick:a})),n):null,re=({position:t,button:n,content:a})=>{const[c,i]=l(!1);return r((()=>{if(!c)return;const e=e=>{e.composedPath().some((e=>e.classList&&e.classList.contains("dropdown-content")))||i(!1)};return setTimeout((()=>{window.addEventListener("click",e,{passive:!1})}),0),()=>window.removeEventListener("click",e)}),[c]),e.createElement("div",null,e.createElement("span",{className:"dropdown"},e.createElement("div",{children:n,className:"dropdown-button",onClick:()=>{console.log("show"),i(!0)}}),e.createElement("div",{className:k("dropdown-content",t||"top-right",c?"visible":"hidden"),children:a})))};let ce={};const ie=n((({children:t,title:n,headerRight:l,onClose:c,isVisible:s,className:o,screen:d},m)=>{const u=a(),h=a(),v=N(0),g=()=>p.goBack(1);i(m,(()=>({close:g})));const{width:E,height:f}=z(u,{onMove:e=>{},onUp:e=>{}});return r((()=>{s?v.spring(1):v.spring(0)}),[s]),r((()=>v.on((e=>{const t=1-e,n=ce.x*t,l=ce.y*t;u.current&&(u.current.style.transform=`translate(${n}px, ${l}px)`,u.current.style.width=C(e),u.current.style.height=C(e)),h.current&&(h.current.style.transform=`translate(${-1*n}px, ${-1*l}px)`)}))),[E,f]),e.createElement("div",{className:"layer reveal",ref:u},e.createElement("div",{className:k("card reveal-content",o),ref:h},e.createElement(J,{title:n,onClose:g,headerRight:l,presentation:"card"}),e.createElement("div",{className:"card-body",children:t})))})),se=(e,t)=>Object.assign(ce,{x:e,y:t}),oe=e=>{const t=e.currentTarget.getBoundingClientRect();se((t.left+t.right)/2,(t.top+t.bottom)/2)},de=({title:t,icon:n,href:l})=>e.createElement(x,{href:l,className:"springboard-icon",onClick:oe},e.createElement("div",{className:"icon-frame"},e.createElement(P,{icon:n})),e.createElement("div",{className:"springboard-icon-name"},t)),me=({title:t,icon:n,onClick:l,href:a,disabled:r,children:c,active:i})=>e.createElement(S,{className:"dropdown-item",onClick:l,disabled:r,active:i,children:c,href:a,leftIcon:n,title:t}),ue=({emoji:t})=>e.createElement("span",{className:"emoji",children:t}),he=({icon:t,title:n,loading:l,disabled:a,active:r=!0,href:i,onPress:s})=>e.createElement(x,{className:k("fab",!n&&"round"),loading:l,disabled:a,active:r,onClick:s,href:i},l?e.createElement(g,{color:"#000"}):e.createElement(c,null,e.createElement(P,{icon:t}),n&&e.createElement("div",{className:"fab-title"},n))),pe=({title:t,children:n,footer:l,headerRight:c,SearchComponent:i})=>{const s=a(),o=N(0);return r((()=>(o.spring(1),o.on((e=>{s.current.style.opacity=e})))),[]),e.createElement("div",{className:"fullscreen",ref:s},e.createElement(J,{title:t,presentation:"full",onClose:()=>{o.spring(0).then((()=>p.goBack()))},headerRight:c,SearchComponent:i}),e.createElement(I,{className:"card-body"},n),l)},ve=({icon:t,title:n,badge:l,loading:a,disabled:r,onClick:c,active:i,href:s})=>e.createElement(x,{className:k("header-button center","Cancel"===n&&"header-cancel"),onClick:c,loading:a,disabled:r,active:i,href:s},t?e.createElement(P,{icon:t}):null,n?e.createElement("span",null,n):null,l?e.createElement("span",{className:"badge"},l):null),ge=({ar:t,url:n,alt:l,className:a,children:r,base64Png:c})=>e.createElement("div",{className:k("img",a)},e.createElement("div",{style:{paddingTop:100*(t||1)+"%"}}),n?e.createElement("img",{src:n,className:"img-real",alt:l,draggable:!1}):c?e.createElement("img",{src:`data:image/png;base64,${c}`}):e.createElement("div",{className:"img-real",alt:l,draggable:!1}),r?e.createElement("div",{className:"img-inside"},r):null),Ee=({title:t,items:n=[],keyExtractor:l=(e=>e._id),renderItem:a,loading:r,className:i,ListEmptyComponent:o,HeaderComponent:d,children:m,showSeparators:u=!0})=>e.createElement("div",{className:k("list",i)},t?e.createElement(c,null,e.createElement("div",{className:"list-title"},t),e.createElement("hr",null)):null,d,n.length||m?e.createElement("div",{className:"list-body"},r||!n?null:o&&0===n.length?o:n.map(((t,r)=>e.createElement(c,{key:l(t)},a(t,r),u&&r<n.length-1&&e.createElement("hr",null)))),s.map(m,((t,n)=>e.createElement(c,{key:n},t,n<m.length-1&&e.createElement("hr",null))))):o),fe=u([]),ye=t=>e.createElement("div",{key:t.id,className:"layer",children:t.children}),be=()=>h(fe).map(ye),Ne=e=>fe.update([...fe.state,{id:Math.random(),children:e}]),ke=()=>{fe.update([])},Ce=({percent:t})=>e.createElement("div",{className:"percent-bar"},e.createElement("div",{className:"percent-bar-inner",style:{width:100*t+"%"}})),xe=({title:t,LeftComponent:n,caret:l=!0,checked:a,active:r,href:c,onPress:i})=>e.createElement(x,{className:"filter-button",onClick:i,active:r,interactive:!0,href:c},n,t?e.createElement("div",{className:"filter-button-title"},t):null,l?e.createElement(P,{className:"filter-button-caret",icon:"expand_more"}):e.createElement(te,{active:a})),we=({title:t,color:n,onClick:l})=>e.createElement(x,{className:"pill",onClick:l,style:{backgroundColor:n}},t),Me=u(),Pe=()=>{const t=h(Me);return r((()=>{if(!t)return;const e=setTimeout((()=>Me.update(null)),2e3);return()=>clearTimeout(e)}),[t]),t?e.createElement("div",{className:"toast-container"},e.createElement("div",{className:"toast",children:t})):null},Se=Me.update,Te=()=>e.createElement(c,null,e.createElement(be,null),e.createElement(Y,null),e.createElement(O,null),e.createElement(Pe,null)),Le=()=>e.createElement("div",{className:"progress-indicator"}),De=({color:t="#fff",size:n=20,percent:l,spinning:a,completedIcon:r="check"})=>{if(a||!l)return e.createElement(Le,null);if(1===l)return e.createElement(P,{icon:r});const c=n/2,i=c-1,s=2*i*Math.PI,o=s-l*s;return e.createElement("svg",{height:n,width:n},e.createElement("circle",{stroke:t,opacity:.3,fill:"transparent",strokeWidth:2,r:i,cx:c,cy:c}),e.createElement("circle",{strokeDasharray:s+" "+s,style:{strokeDashoffset:o,transform:"rotate(-90deg)",transformOrigin:"50% 50%"},stroke:t,fill:"transparent",strokeWidth:2,r:i,cx:c,cy:c}))},Ve=({active:t,icon:n,title:l,elaboration:a,subtitle:r,value:c,disabled:i,onClick:s,children:o})=>e.createElement(S,{onClick:()=>{s(c)},disabled:i,className:"radio-btn",active:t},e.createElement("div",{className:"radio-top"},e.createElement("div",{className:"dot"},e.createElement("div",{className:"dot-inside"})),n&&e.createElement(P,{icon:n}),e.createElement("div",{className:"radio-title"},l)),o&&e.createElement("div",{className:"radio-subtitle"},o),r&&e.createElement("div",{className:"radio-subtitle"},r),t&&a&&e.createElement("div",{className:"radio-subtitle",children:a})),$e=n((({item:t,isLast:n,active:l,onChange:a,index:r},i)=>e.createElement(c,null,e.createElement(x,{children:t.name,onClick:()=>a(t.value),active:l,ref:i}),n?null:e.createElement("div",{className:"separator"})))),ze=({options:t,value:n,onChange:l})=>{const c=a([]),i=a(),s=t.findIndex((e=>e.value===n)),o=N(0),d=N(0);return r((()=>{o.on((e=>i.current.style.transform=`translateX(${e}px)`)),d.on((e=>i.current.style.width=`${e}px`))}),[]),r((()=>{const e=c.current[s];0===d.value?(o.setValue(e.offsetLeft),d.setValue(e.offsetWidth)):(o.spring(e.offsetLeft),d.spring(e.offsetWidth))}),[s]),e.createElement("div",{className:"segmented"},e.createElement("div",{className:"segmented-indicator",ref:i}),t.map(((n,a)=>e.createElement($e,{key:n.value,item:n,index:a,isLast:a===t.length-1,active:s===a,onChange:l,ref:e=>c.current[a]=e}))))},Re=({options:t,value:n,disabled:l,autoComplete:a,onChangeValue:r})=>e.createElement("select",{className:k("text select",l&&"disabled"),onChange:e=>r(e.target.value),value:n,disabled:l,autoComplete:a},(()=>{if(t instanceof Array)return t.map((t=>e.createElement("option",{key:t.value,value:t.value,children:t.name})));Object.keys(t).map((n=>e.createElement("option",{key:n,value:n,children:t[n]})))})()),Xe=({leftText:t,rightText:n})=>e.createElement("div",{className:"tabular-row"},e.createElement("div",{className:"tabular-row-left"},t),e.createElement("div",{className:"tabular-row-right"},n)),We=(e,t=0)=>{let n=3735928559^t,l=1103547991^t;for(let t,a=0;a<e.length;a++)t=e.charCodeAt(a),n=Math.imul(n^t,2654435761),l=Math.imul(l^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(l^l>>>13,3266489909),l=Math.imul(l^l>>>16,2246822507),l^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&l)+(n>>>0)},Ye=360/Math.pow(2,53),Ue=o((({tag:t,count:n})=>{const l=(e=>`hsl(${180-Ye*We(e)}, 100%, 50%)`)(t);return e.createElement("div",{className:"tag",style:{borderColor:l,color:l},children:`${t}  ${n||""}`})})),_e={code:"one-time-code"},Ie={phone:"tel",code:"tel"},je=n((({placeholder:t,value:n="",icon:a,type:r="text",dnt:c,disabled:i,rows:s=0,className:o,onFocus:m,autoComplete:u,onClick:h,maxLength:p,id:v,onChangeText:E=(()=>null),autoFocus:f,loading:y,RightComponent:b,countryCode:N,onChangePhone:C,lowerCase:w,min:M,max:S,onPressCountry:T,countries:L},D)=>{const[V,$]=l(n);return e.createElement("div",{className:"text-input"},"phone"===r&&(()=>{const t=L?L.find((e=>e.code===N)):null;return t?e.createElement(x,{className:"text-input-country",onClick:T},e.createElement("span",{className:"emoji"},t.flag),t.prefix):null})(),a?e.createElement(P,{className:"text-input-icon",icon:a}):"username"===r?e.createElement("span",{className:"text-input-icon"},"@"):"search"===r?e.createElement(P,{className:"text-input-icon",icon:"search"}):void 0,d("textarea"===r||s?"textarea":"input",{type:Ie[r]||r,autoComplete:_e[r],maxLength:p,className:k("text",i&&"disabled",c&&"fs-hide",o),readOnly:i,onChange:e=>{let t=e.target.value;$(t),"phone"===r?t=t.replace(/[^0-9]/g,""):(w&&(t=t.toLowerCase()),p&&(t=t.slice(0,p)),"username"===r&&(t=t.replace(/\s/g,""))),E(t)},value:(e=>{if("phone"===r&&N){const t=L.find((e=>e.code===N)),n=e.split("");return t.example.split("").map((e=>{if(n.length)return"X"===e?n.shift():e})).filter(Boolean).join("")}return e})(n),autoCapitalize:w&&"none",placeholder:t,rows:s,onFocus:m,onClick:h,id:v,autoFocus:f,ref:D,min:M,max:S}),a?e.createElement("img",{className:"text-input-icon",src:a}):null,b,y?e.createElement("div",{className:"text-input-spinner"},e.createElement(g,{size:18})):null,"search"!==r?null:n?e.createElement(x,{onClick:()=>E("")},e.createElement(P,{icon:"cancel",className:"text-input-clear"})):void 0)})),Ae=({href:t,onClick:n,children:l,disabled:a,className:r})=>e.createElement(x,{className:k("touchable-highlight",a&&"disabled",r),onClick:n,href:t,children:l}),Be=({pan:t,i:n,width:l})=>{const c=a();return r((()=>{if(!l)return;const e=n*l,a=l/3;return t.on((t=>{const n=Math.min(Math.abs(e-t),a);c.current.style.opacity=Math.min(1,1.5-n/a)}))}),[l]),e.createElement("div",{className:"pager-dot",ref:c,style:{opacity:t.value===n?1:.5}})},He=({title:t,i:n,pan:l,width:c,onPress:i})=>{const s=a();return r((()=>{if(!c)return;const e=n*c,t=c/3;return l.on((n=>{const l=Math.min(Math.abs(e-n),t);s.current.style.opacity=1.5-l/t}))}),[c]),e.createElement("div",{children:t,className:"pager-tabs-title",onClick:()=>i(n),ref:s,style:{opacity:l.value===n?1:.5}})},Oe=n((({titles:t,children:n,vertical:l,dots:c,className:s},o)=>{const d=N(0),m=a(),u=a(),h=a({}).current;i(o,(()=>({scrollToPage:e=>{l?d.spring(e*v):d.spring(e*p)}})));const{width:p,height:v}=z(u,{enablePointerControls:!0,onCapture:e=>{if(l){if("v"===e.locked)return e.d.y<0||h.initPan-e.d.y>0}else if("h"===e.locked)return e.d.x<0||h.initPan-e.d.x>0},onDown:e=>{l?(h.currentPage=Math.round(d.value/e.height),h.initPan=d.value):(h.currentPage=Math.round(d.value/e.width),h.initPan=d.value)},onMove:e=>{if(l){const t=E(h.initPan-e.d.y,0,e.height*(n.length-1));d.setValue(t)}else{const t=E(h.initPan-e.d.x,0,e.width*(n.length-1));d.setValue(t)}},onUp:e=>{if(l)if(e.flick.y<0)d.spring(v*E(h.currentPage+1,0,n.length-1));else if(e.flick.y>0)d.spring(v*E(h.currentPage-1,0,n.length-1));else{const t=E(Math.round(d.value/e.height),0,n.length-1);d.spring(t*v)}else if(e.flick.x<0)d.spring(p*E(h.currentPage+1,0,n.length-1));else if(e.flick.x>0)d.spring(p*E(h.currentPage-1,0,n.length-1));else{const t=E(Math.round(d.value/e.width),0,n.length-1);d.spring(t*p)}},onPan:e=>{console.log("Pan:",e.d.x,e.d.y),d.setValue(E(d.value+e.d.x,0,p*(n.length-1)))}},[n]);r((()=>d.on((e=>{u.current.style.transform=`translate${l?"Y":"X"}(-${e}px)`,m.current&&(m.current.style.transform=`translateX(${e/n.length}px)`)}))),[p]);const g=e=>{d.spring(e*p)};return e.createElement("div",{className:k("pager",l?"vertical":"horizontal",s)},t?e.createElement("div",{className:"pager-tabs"},t.map(((t,n)=>e.createElement(He,{key:n,title:t,pan:d,i:n,width:p,onPress:g}))),p?e.createElement("div",{className:"pager-tabs-indicator",ref:m,style:{width:p/t.length}}):null):null,e.createElement("div",{className:"pager-scroller"},e.createElement("div",{className:"pager-canvas",ref:u,style:{transform:l?"translateX(0px)":"translateY(0px)"}},e.Children.map(n,((t,n)=>e.createElement("div",{key:n,className:"pager-page",children:t}))))),c?e.createElement("div",{className:"pager-dots"},e.Children.map(n,((t,n)=>e.createElement(Be,{key:n,pan:d,width:p,i:n})))):null)})),Fe=n((({children:t,title:n,search:l,onChangeSearch:c,searchLoading:s,hasScrollView:o=!0,headerRight:d,onClose:m,isVisible:u},h)=>{const v=a(),g=a(),E=N(0),f=()=>{console.log("close window"),m?E.spring(0).then(m):p.goBack(1)};i(h,(()=>({close:f})));const{height:y}=z(g,{onMove:e=>{E.setValue(y-Math.max(0,e.d.y))},onUp:e=>{1===e.flick.y||e.d.y>e.height/2?f():E.spring(e.height)}});return r((()=>{y&&(u||m?E.spring(y):E.spring(0))}),[u,y]),r((()=>{const e=document.querySelectorAll(".card");return E.on((t=>{const n=t/y;g.current&&(g.current.style.transform=`translateY(-${t}px)`),v.current&&(v.current.style.display=t?"block":"none",v.current.style.opacity=t/y*.8),[...e].forEach((e=>{e.style.transform=`scale(${1-.04*n})`}))}))}),[y]),e.createElement("div",{className:"layer"},e.createElement("div",{className:"shade",ref:v}),e.createElement("div",{className:"window",ref:g},e.createElement("div",{className:"window-content"},e.createElement(J,{title:n,presentation:"modal",onClose:f,SearchComponent:c?e.createElement("div",{className:"header-search"},e.createElement(je,{placeholder:"Search",type:"search",value:l,onChangeText:c,loading:s})):null,headerRight:d}),o?e.createElement(I,{className:"card-body",children:t}):e.createElement("div",{className:"card-body",children:t}))))})),qe=({width:e,height:t})=>{document.documentElement.style.setProperty("--viewport-width",`${e}px`),document.documentElement.style.setProperty("--viewport-height",`${t}px`)};qe({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}),new ResizeObserver((e=>{qe(e[0].contentRect)})).observe(document.documentElement);const Ke=navigator.virtualKeyboard,Ge=()=>r((()=>{if(Ke)return Ke.overlaysContent=!0,()=>Ke.overlaysContent=!1}),[]),Je=new Map,Qe=e=>function(...t){const n=t[0];return Je.has(n)||Je.set(n,e.apply(this,t)),Je.get(n)},Ze=Qe((e=>new Promise((t=>{const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n.onload=()=>t(),document.head.appendChild(n)})))),et=Qe(((e,t)=>new Promise((n=>{const l=document.createElement("script");l.type="text/javascript",l.async=!0,l.src=e,l.onload=()=>n(window[t]),document.head.appendChild(l)}))));export{Y as ActionSheet,g as ActivityIndicator,O as Alert,b as AnimatedValue,q as Avatar,R as BottomSheet,K as BreadCrumbs,j as Button,ee as Card,te as CheckBox,ne as CircleCheck,le as ConnectionIndicator,ae as CornerDialog,de as DashboardIcon,re as Dropdown,me as DropdownItem,ue as Emoji,T as FLICK_SPEED,he as Fab,xe as FilterButton,pe as FullScreen,ve as HeaderButton,P as Icon,ge as Image,Ee as List,be as Modal,Ce as PercentBar,we as Pill,Q as Placeholder,Te as PoonOverlays,Le as ProgressIndicator,De as ProgressRing,_ as PullIndicator,Ve as RadioButton,ie as Reveal,J as ScreenHeader,I as ScrollView,ze as SegmentedController,Re as Select,Z as Shade,Xe as TabularRow,Ue as Tag,je as TextInput,Pe as Toast,x as Touchable,Ae as TouchableHighlight,S as TouchableRow,Oe as ViewPager,Fe as Window,f as bounce,k as c,E as clamp,We as cyrb53,y as easeOutCubic,ke as hideModal,Ze as loadCss,et as loadScript,Qe as memoize,fe as modalState,se as setRevealOrigin,U as showActionSheet,F as showAlert,Ne as showModal,C as toPercent,Se as toast,N as useAnimatedValue,z as usePanGestures,V as useSize,Ge as useVirtualKeyboard};
